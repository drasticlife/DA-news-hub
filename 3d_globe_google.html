<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>DA Global Production Sites</title>
  <style>
    body { margin: 0; overflow: hidden; background-color: #000; }
    #globeViz { width: 100vw; height: 100vh; }
    
    #center-title {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      text-align: center;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      pointer-events: none;
      z-index: 10;
      text-shadow: 0 0 10px rgba(0, 169, 224, 0.8);
    }
    
    #center-title h1 {
      margin: 0;
      font-size: 3rem;
      font-weight: 300;
      letter-spacing: 2px;
      text-transform: uppercase;
    }

    #center-title p {
      margin: 10px 0 0;
      font-size: 1.2rem;
      font-weight: 100;
      opacity: 0.8;
      font-style: italic;
    }
  </style>
  <script src="https://unpkg.com/globe.gl"></script>
</head>
<body>
  <div id="center-title">
    <h1>DA Procurement</h1>
    <p>Daily Insight Journal</p>
  </div>

  <div id="globeViz"></div>

  <script>
    // [데이터 설정]
    // lat/lng: 실제 공장 위치
    // txtLat/txtLng: 글자가 표시될 위치 (겹침 방지용)
    const places = [
      // 1. 한국 (수원 vs 광주 상하 분리)
      { name: "Samsung Digital City", country: "Korea", product: "HQ / R&D", lat: 37.263, lng: 127.028, txtLat: 39.5, txtLng: 127.0 },
      { name: "Gwangju Plant", country: "Korea", product: "Premium DA", lat: 35.159, lng: 126.852, txtLat: 33.5, txtLng: 127.5 },

      // 2. 중국 (신규 추가) - 한국과 겹치지 않게 왼쪽(서쪽)으로 글자 이동
      { name: "SSEC", country: "China", product: "DA Complex", lat: 31.298, lng: 120.585, txtLat: 31.3, txtLng: 116.0 },
      
      // 3. 동남아 (태국 vs 베트남 대각선 분리)
      { name: "TSE", country: "Thailand", product: "A/C, Ref", lat: 13.111, lng: 100.927, txtLat: 16.5, txtLng: 98.0 },
      { name: "SEHC", country: "Vietnam", product: "TV/DA Complex", lat: 10.762, lng: 106.660, txtLat: 8.5, txtLng: 109.0 },

      // 4. 남미 (신규 추가) - 브라질
      { name: "SEDA", country: "Brazil", product: "DA/TV", lat: -3.119, lng: -60.021, txtLat: -3.119, txtLng: -60.021 },

      // 5. 그 외 지역
      { name: "SEPM", country: "Poland", product: "Ref/W/M", lat: 52.711, lng: 16.381, txtLat: 52.711, txtLng: 16.381 },
      { name: "SAMEX", country: "Mexico", product: "Ref", lat: 20.588, lng: -100.389, txtLat: 20.588, txtLng: -100.389 },
      { name: "SEM", country: "Mexico", product: "TV/Monitor", lat: 32.514, lng: -117.038, txtLat: 32.514, txtLng: -117.038 },
      { name: "SEHA", country: "USA", product: "W/M", lat: 34.274, lng: -81.618, txtLat: 34.274, txtLng: -81.618 },
      { name: "SIEL", country: "India", product: "DA/TV", lat: 12.971, lng: 80.015, txtLat: 12.971, txtLng: 80.015 }
    ];

    const world = Globe()
      (document.getElementById('globeViz'))
      .globeImageUrl('https://unpkg.com/three-globe/example/img/earth-blue-marble.jpg')
      .bumpImageUrl('https://unpkg.com/three-globe/example/img/earth-topology.png')
      .backgroundImageUrl('https://unpkg.com/three-globe/example/img/night-sky.png')
      .atmosphereColor('#3a228a')
      .atmosphereAltitude(0.2)

      // [점]
      .pointsData(places)
      .pointLat('lat')
      .pointLng('lng')
      .pointColor(() => '#00a9e0')
      .pointAltitude(0.01)
      .pointRadius(0.6)
      
      // [글자]
      .labelsData(places)
      .labelLat('txtLat')
      .labelLng('txtLng')
      .labelText(d => `${d.name}\n${d.country} | ${d.product}`)
      .labelSize(1.0)
      .labelDotRadius(0.3)
      .labelColor(() => 'rgba(255, 255, 255, 0.9)')
      .labelResolution(2)
      .labelAltitude(0.02)

      .onPointClick(point => {
        // 클릭 시 더 가까이 줌인
        world.pointOfView({ lat: point.lat, lng: point.lng, altitude: 1.5 }, 1000);
      });

    // [초기 시점 설정] 
    // altitude 값을 1.8 -> 1.4로 낮춰서 더 확대된 상태로 시작
    world.pointOfView({ lat: 25, lng: 110, altitude: 1.1 });

    world.controls().autoRotate = true;
    world.controls().autoRotateSpeed = 0.6;
  </script>
</body>
</html>