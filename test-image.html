<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>이미지 테스트</title>
</head>
<body>
    <h1>구글 시트 데이터 테스트</h1>
    <div id="result"></div>
    <div id="images"></div>

    <script>
        const GAS_URL = "https://script.google.com/macros/s/AKfycbwu-VJ5l9w1bfw_Gaw1bgvJyn9XixGh_4C97gd_COzUBgPB4QxJfFZWU5YChJTAPKbrCw/exec";
        
        fetch(GAS_URL)
            .then(response => response.json())
            .then(data => {
                document.getElementById('result').innerHTML = `
                    <h2>총 ${data.length}개 데이터 로드됨</h2>
                    <pre>${JSON.stringify(data[0], null, 2)}</pre>
                `;
                
                // 처음 5개 기사의 이미지만 표시
                let imagesHTML = '<h2>이미지 테스트 (처음 5개)</h2>';
                for (let i = 0; i < Math.min(5, data.length); i++) {
                    const item = data[i];
                    imagesHTML += `
                        <div style="border: 1px solid #ccc; padding: 10px; margin: 10px 0;">
                            <h3>${item.Title}</h3>
                            <p>Image URL: ${item.Image}</p>
                            ${item.Image ? `<img src="${item.Image}" style="max-width: 300px;" onerror="this.style.border='3px solid red'">` : '<p style="color: red;">이미지 없음</p>'}
                        </div>
                    `;
                }
                document.getElementById('images').innerHTML = imagesHTML;
            })
            .catch(error => {
                document.getElementById('result').innerHTML = `<p style="color: red;">에러: ${error}</p>`;
            });
    </script>
</body>
</html>
